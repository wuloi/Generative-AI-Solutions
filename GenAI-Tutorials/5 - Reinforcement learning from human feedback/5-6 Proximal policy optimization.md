# ğŸ§  **PPOæ·±åº¦è§£æï¼šä»¥äººç±»èˆ¬çš„ç²¾å‡†å¼•å¯¼LLMs**

æŠ€æœ¯çˆ±å¥½è€…ä»¬ï¼Œä½ ä»¬å¥½ï¼ğŸ‘‹ å‡†å¤‡å¥½æ·±å…¥æ¢ç©¶äººå·¥æ™ºèƒ½å¯¹é½ç®—æ³•çš„æ ¸å¿ƒäº†å—ï¼Ÿä»Šå¤©æˆ‘ä»¬å°†ä¸äºšé©¬é€Šçš„æœºå™¨å­¦ä¹ åº”ç”¨ç§‘å­¦å®¶Ehsan "EK" Kamalinejadåšå£«ä¸€èµ·ï¼Œå‰–æå…³é”®äºå°†æˆ‘ä»¬çš„å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰ä¸äººç±»ä»·å€¼è§‚å¯¹é½çš„è¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼ˆPPOï¼‰å¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚ğŸŒŸ

## **EKçš„ä¸“ä¸šçŸ¥è¯†ï¼šä»è‹¹æœåˆ°äºšé©¬é€Š**

æ‹¥æœ‰è‹¹æœå…¬å¸èƒŒæ™¯å’Œä½œä¸ºæ•°å­¦å‰¯æ•™æˆçš„EKï¼Œå¸¦æ¥äº†ä¸°å¯Œçš„çŸ¥è¯†ã€‚ä»–å¯¹PPOçš„è§è§£å¯¹äºä»»ä½•å¸Œæœ›ç†è§£å¦‚ä½•åˆ¶é€ ä¸ä»…æ™ºèƒ½è€Œä¸”ä¸æˆ‘ä»¬ä¸€è‡´çš„AIçš„äººæ¥è¯´éƒ½æ˜¯å®è´µçš„èµ„æºã€‚

## **PPOï¼šAIå¯¹é½çš„ç®—æ³•**

PPOçš„æ ¸å¿ƒæ˜¯ä¼˜åŒ–ç­–ç•¥â€”â€”æ¯”å¦‚æˆ‘ä»¬çš„LLMsâ€”â€”ä»¥ç´§å¯†å¯¹é½äººç±»åå¥½ï¼Œç¡®ä¿æ›´æ–°å°è€Œç¨³å®šï¼Œå› æ­¤ç§°ä¸ºâ€œè¿‘ç«¯â€ã€‚

## **PPOçš„å®é™…åº”ç”¨ï¼šAIå®Œå–„çš„ä¸¤ä¸ªé˜¶æ®µ**

- **é˜¶æ®µä¸€ï¼š** LLMå°è¯•ä¸ºæç¤ºç”Ÿæˆå®Œæˆã€‚
- **é˜¶æ®µäºŒï¼š** ä½¿ç”¨å¥–åŠ±æ¨¡å‹å¯¹LLMè¿›è¡Œæ›´æ–°ï¼Œè¯¥æ¨¡å‹åŒ…å«äº†äººç±»åå¥½ã€‚

## **ä»·å€¼å‡½æ•°ï¼šé¢„ä¼°æœªæ¥å¥–åŠ±**

å°†ä»·å€¼å‡½æ•°æƒ³è±¡æˆä¸€ä¸ªæ°´æ™¶çƒï¼Œé¢„ä¼°åœ¨LLMç”Ÿæˆæ¯ä¸ªæ ‡è®°æ—¶ç»™å®šçŠ¶æ€çš„é¢„æœŸæ€»å¥–åŠ±ã€‚

## **ä¼˜åŠ¿ä¼°è®¡ï¼šè¡¡é‡è¡ŒåŠ¨çš„è´¨é‡**

ä¼˜åŠ¿é¡¹å°±åƒä¸€ä¸ªæŒ‡å—é’ˆï¼Œæ˜¾ç¤ºå½“å‰è¡ŒåŠ¨ä¸ç»™å®šçŠ¶æ€ä¸‹æ‰€æœ‰å¯èƒ½è¡ŒåŠ¨ç›¸æ¯”çš„å¥½åã€‚

## **ç­–ç•¥æŸå¤±ï¼šPPOçš„ä¸»è¦ç›®æ ‡**

ç­–ç•¥æŸå¤±æ˜¯PPOå…³æ³¨çš„é‡ç‚¹ï¼Œæ—¨åœ¨æœ€å¤§åŒ–é¢„æœŸå¥–åŠ±å¹¶ä½¿LLMä¸äººç±»åå¥½å¯¹é½ã€‚

## **ä¿¡ä»»åŒºåŸŸï¼šä¿æŒåœ¨å¯é èŒƒå›´å†…**

PPOå°†æ¨¡å‹æ›´æ–°ä¿æŒåœ¨â€œä¿¡ä»»åŒºåŸŸâ€å†…ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„ä¼˜åŠ¿ä¼°è®¡ä¿æŒæœ‰æ•ˆå’Œå¯é ã€‚

## **ç†µæŸå¤±ï¼šåœ¨åˆ›é€ æ€§ä¸å¯¹é½é—´å–å¾—å¹³è¡¡**

è™½ç„¶ç­–ç•¥æŸå¤±æ¨åŠ¨å¯¹é½ï¼Œä½†ç†µæŸå¤±ç¡®ä¿LLMä¿æŒåˆ›é€ æ€§ï¼Œé¿å…é‡å¤ã€å¯é¢„æµ‹çš„å›åº”ã€‚

## **PPOç›®æ ‡ï¼šåŠ æƒå’Œä¸ºå¹³è¡¡æ›´æ–°**

PPOç›®æ ‡å°†æ‰€æœ‰ç»„ä»¶ç»“åˆæˆä¸€ä¸ªå…¬å¼ï¼Œä»¥ç¨³å®šã€åˆ›é€ æ€§çš„æ–¹å¼æ›´æ–°æ¨¡å‹ï¼Œä½¿å…¶æœå‘äººç±»åå¥½ã€‚

## **RLHFçš„æœªæ¥ï¼šPPOåŠå…¶å®ƒ**

EKå¼ºè°ƒï¼Œå°½ç®¡PPOå¾ˆå—æ¬¢è¿ï¼Œä½†å®ƒåªæ˜¯RLHFå·¥å…·ç®±ä¸­çš„ä¼—å¤šæŠ€æœ¯ä¹‹ä¸€ã€‚éšç€åƒç›´æ¥åå¥½ä¼˜åŒ–è¿™æ ·çš„æ–°æ–¹æ³•çš„å‡ºç°ï¼Œå¯¹é½AIçš„æœªæ¥æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´åŠ å…‰æ˜ã€‚

---

åŠ å…¥æˆ‘ä»¬ï¼Œç»§ç»­ä¸åƒEKè¿™æ ·çš„ä¸“å®¶ä¸€èµ·æ¢ç´¢AIå¯¹é½çš„å‰æ²¿ã€‚åˆ«å¿˜äº†ç‚¹å‡»è®¢é˜…æŒ‰é’®ï¼Œæ·±å…¥äº†è§£AIçš„ä¸–ç•Œã€‚ä¸‹æ¬¡è§ï¼Œç»§ç»­æ¨åŠ¨è¾¹ç•Œï¼Œè®©æˆ‘ä»¬å¡‘é€ ä¸€ä¸ªæ—¢äº†ä¸èµ·åˆä¸æˆ‘ä»¬ä¸€è‡´çš„AIï¼ğŸŒˆ

---

[åŠ å…¥æˆ‘ä»¬ï¼Œæ¢ç´¢æ›´å¤šAIï¼](https://roadmaps.feishu.cn/wiki/RykrwFxPiiU4T7kZ63bc7Lqdnch)

---

# ğŸ§  **PPO Deep Dive: Steering LLMs with Human-like Precision**

Hey tech enthusiasts! ğŸ‘‹ Get ready to dive deep into the algorithmic heart of AI alignment with Dr. Ehsan "EK" Kamalinejad, a machine learning applied scientist currently making waves at Amazon. Today, we're breaking down the Proximal Policy Optimization (PPO) reinforcement learning algorithmâ€”key to aligning our Large Language Models (LLMs) with human values. ğŸŒŸ

## **EK's Expertise: From Apple to Amazon**

EK, with a background at Apple and as an Associate Professor of Mathematics, brings a wealth of knowledge to the table. His insights into PPO are a goldmine for anyone looking to understand how to make AI that's not just smart, but aligned with us.

## **PPO: The Algorithm for AI Alignment**

PPO is all about optimizing policiesâ€”like our LLMsâ€”to align closely with human preferences, ensuring updates are small and stable, hence "Proximal."

## **PPO in Action: Two Phases for AI Perfection**

- **Phase I:** LLM experiments generate completions for prompts.
- **Phase II:** Updates to the LLM are made using the reward model, which encapsulates human preferences.

## **The Value Function: Estimating Future Rewards**

Think of the value function as a crystal ball, estimating the expected total reward for a given state as the LLM generates each token.

## **Advantage Estimation: Gauging the Quality of Actions**

The advantage term is like a compass, showing how much better (or worse) the current action is compared to all possible actions at a given state.

## **Policy Loss: The Main Objective of PPO**

The policy loss is what PPO focuses on, aiming to maximize the expected reward and align the LLM with human preferences.

## **Trust Region: Staying within Reliable Bounds**

PPO keeps model updates within a "trust region" to ensure our advantage estimates stay valid and reliable.

## **Entropy Loss: Balancing Creativity with Alignment**

While policy loss drives alignment, entropy loss ensures the LLM maintains creativity, avoiding repetitive, predictable responses.

## **The PPO Objective: A Weighted Sum for Balanced Updates**

The PPO objective combines all components into a formula that updates the model towards human preferences in a stable, creative manner.

## **The Future of RLHF: PPO and Beyond**

EK highlights that while PPO is popular, it's just one of many techniques in the RLHF toolbox. With new methods like direct preference optimization on the horizon, the future of aligning AI is brighter than ever.

---

Join us as we continue to explore the frontiers of AI alignment with experts like EK. Don't forget to hit that subscribe button for more deep dives into the world of AI. Until next time, keep pushing the boundaries, and let's shape an AI that's as amazing as it is aligned with us! ğŸŒˆ

---

[Join us for more AI explorations!](https://roadmaps.feishu.cn/wiki/RykrwFxPiiU4T7kZ63bc7Lqdnch)

---


# ç§‘æ™®æŠ€æœ¯æ–‡ç« ï¼šèµ°è¿‘PPOï¼šå¼ºåŒ–å­¦ä¹ ä¸­çš„è¯­è¨€æ¨¡å‹å¾®è°ƒ

## å¼•è¨€
åœ¨äººå·¥æ™ºèƒ½çš„å¾é€”ä¸­ï¼Œå¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learning, RLï¼‰æ‰®æ¼”ç€è¶Šæ¥è¶Šé‡è¦çš„è§’è‰²ã€‚Ehsan Kamalinejadåšå£«ï¼Œå³EKï¼Œä½œä¸ºåº”ç”¨ç§‘å­¦å®¶ï¼Œåœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸå–å¾—äº†æ˜¾è‘—æˆå°±ã€‚æœ¬æ–‡å°†åŸºäºEKçš„è§è§£ï¼Œæ¢è®¨PPOï¼ˆProximal Policy Optimizationï¼‰ç®—æ³•å¦‚ä½•åº”ç”¨äºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„å¾®è°ƒã€‚

## PPOï¼šå¼ºåŒ–å­¦ä¹ ä¸­çš„ä¼˜åŒ–ç­–ç•¥
PPOæ˜¯ä¸€ç§å¼ºå¤§çš„RLç®—æ³•ï¼Œä¸“é—¨ç”¨äºä¼˜åŒ–ç­–ç•¥ï¼Œä½¿ä¹‹æ›´è´´è¿‘äººç±»åå¥½ã€‚ä¸ä¼ ç»Ÿçš„å¾®è°ƒä¸åŒï¼ŒPPOé€šè¿‡è¿­ä»£è¿‡ç¨‹ï¼Œå¯¹LLMè¿›è¡Œå°å¹…åº¦ä½†æ•ˆæœæ˜¾è‘—çš„æ›´æ–°ï¼Œä»¥å®ç°æ›´ç¨³å®šçš„å­¦ä¹ ã€‚

## PPOåœ¨LLMä¸­çš„åº”ç”¨
PPOçš„ä¸¤ä¸ªé˜¶æ®µï¼š
1. **å®éªŒé˜¶æ®µ**ï¼šLLMæ ¹æ®ç»™å®šæç¤ºç”Ÿæˆå“åº”ã€‚
2. **æ›´æ–°é˜¶æ®µ**ï¼šåˆ©ç”¨å¥–åŠ±æ¨¡å‹è¯„ä¼°å“åº”ï¼Œå¹¶æ ¹æ®äººç±»åå¥½è¿›è¡ŒLLMçš„æƒé‡æ›´æ–°ã€‚

## ä»·å€¼å‡½æ•°ä¸ä¼˜åŠ¿ä¼°è®¡
ä»·å€¼å‡½æ•°ä¼°è®¡ç»™å®šçŠ¶æ€ä¸‹çš„é¢„æœŸæ€»å¥–åŠ±ï¼Œä¸ºLLMç”Ÿæˆçš„æ¯ä¸ªtokenæä¾›æœªæ¥å¥–åŠ±çš„ä¼°è®¡ã€‚ä¼˜åŠ¿ä¼°è®¡ï¼ˆAdvantage Estimationï¼‰åˆ™è¯„ä¼°å½“å‰åŠ¨ä½œç›¸æ¯”äºæ‰€æœ‰å¯èƒ½åŠ¨ä½œçš„ä¼˜åŠ£ã€‚

## PPOæ”¿ç­–ç›®æ ‡
PPOç®—æ³•é€šè¿‡ä¼˜åŒ–æ”¿ç­–æŸå¤±æ¥æ›´æ–°LLMæƒé‡ï¼Œæ—¨åœ¨æé«˜ä¸äººç±»åå¥½å¯¹é½çš„å“åº”çš„å¥–åŠ±ã€‚é€šè¿‡æ¯”è¾ƒæ–°æ—§ç­–ç•¥çš„é¢„æœŸå¥–åŠ±ï¼ŒPPOç¡®ä¿æ›´æ–°ä¿æŒåœ¨å¯ä¿¡èµ–çš„åŒºåŸŸå†…ã€‚

## ä¿¡ä»»åŒºåŸŸä¸ç­–ç•¥ä¿å®ˆæ€§
PPOé€šè¿‡â€œä¿¡ä»»åŒºåŸŸâ€ï¼ˆtrust regionï¼‰çš„æ¦‚å¿µï¼Œé™åˆ¶æ¨¡å‹æ›´æ–°çš„å¹…åº¦ï¼Œé¿å…è¿›å…¥å¯èƒ½äº§ç”Ÿå¤§è¯¯å·®çš„åŒºåŸŸã€‚è¿™ç§ä¿å®ˆæ€§ç¡®ä¿äº†å­¦ä¹ è¿‡ç¨‹çš„ç¨³å®šæ€§ã€‚

## ç†µæŸå¤±ä¸æ¨¡å‹åˆ›é€ æ€§
ç†µæŸå¤±ç¡®ä¿æ¨¡å‹åœ¨è¿½æ±‚ä¸äººç±»åå¥½å¯¹é½çš„åŒæ—¶ï¼Œä¹Ÿèƒ½ä¿æŒåˆ›é€ æ€§ã€‚è¿™ç±»ä¼¼äºLLMä¸­çš„â€œæ¸©åº¦â€è®¾ç½®ï¼Œä½†ç†µæŸå¤±åœ¨è®­ç»ƒæœŸé—´å½±å“æ¨¡å‹çš„åˆ›é€ æ€§ã€‚

## PPOç›®æ ‡çš„ç»¼åˆ
PPOç›®æ ‡æ˜¯å¤šä¸ªæŸå¤±çš„åŠ æƒå’Œï¼Œé€šè¿‡åå‘ä¼ æ’­æ›´æ–°æ¨¡å‹æƒé‡ï¼Œä½¿æ¨¡å‹é€æ­¥å¯¹é½äººç±»åå¥½ã€‚

## ç»“è®ºä¸æœªæ¥å±•æœ›
PPOå› å…¶åœ¨å¤æ‚æ€§å’Œæ€§èƒ½ä¹‹é—´çš„å¹³è¡¡è€Œæˆä¸ºRLHFä¸­çš„æµè¡Œæ–¹æ³•ã€‚ç„¶è€Œï¼ŒLLMçš„å¾®è°ƒæ˜¯ä¸€ä¸ªæ´»è·ƒçš„ç ”ç©¶é¢†åŸŸï¼Œæˆ‘ä»¬å¯ä»¥é¢„è§æœªæ¥å°†å‡ºç°æ›´å¤šåˆ›æ–°æ–¹æ³•ï¼Œå¦‚æ–¯å¦ç¦å¤§å­¦ç ”ç©¶äººå‘˜æœ€è¿‘æå‡ºçš„ç›´æ¥åå¥½ä¼˜åŒ–æŠ€æœ¯ã€‚

---

**æ³¨**ï¼šæœ¬æ–‡ä¸ºç§‘æ™®æ€§è´¨çš„æŠ€æœ¯æ–‡ç« ï¼Œæ—¨åœ¨å‘éä¸“ä¸šè¯»è€…ä»‹ç»PPOç®—æ³•åŠå…¶åœ¨å¼ºåŒ–å­¦ä¹ ä¸­å¯¹å¤§å‹è¯­è¨€æ¨¡å‹å¾®è°ƒçš„åº”ç”¨ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡è¿™ç§æ–¹æ³•æé«˜æ¨¡å‹çš„äººç±»å¯¹é½åº¦ã€‚

---

[åŠ å…¥æˆ‘ä»¬ï¼Œæ¢ç´¢æ›´å¤šAIï¼](https://roadmaps.feishu.cn/wiki/RykrwFxPiiU4T7kZ63bc7Lqdnch)

---
